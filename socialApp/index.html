<!DOCTYPE html>
<html ng-app="app">
    <head>
        <meta charset="utf-8" />
        <title>AngularJS User Registration and Login Example</title>
        <link rel="stylesheet" href="css/bootstrap.min.css" />
        <link href="app-content/app.css" rel="stylesheet" />
    </head>
    <body>
        <div class="jumbotron">
            <div class="container">
                <div class="col-sm-12">
                    <div style="margin-bottom: 25px">
                        <span ng-show="globals.currentUser">
                           <span >  Hi {{globals.currentUser.first_name}}!
                           You're logged in!!</span>
                        </span>
                        
                        <span ng-hide="globals.currentUser">
                           <span > Welcome!
                          Please login in for comment and message !!</span>
                        </span>
                        
                        <span style="float: right;">
                            <span ng-show="globals.currentUser"><a href="#/login" class="btn btn-primary">Logout</a></span>
                            <span ng-hide="globals.currentUser"><a href="#/login" class="btn btn-primary">Login</a></span>
                        </span>
                       
                    </div>

                    <div ng-class="{ 'alert': flash, 'alert-success': flash.type === 'success', 'alert-danger': flash.type === 'error' }" ng-if="flash" ng-bind="flash.message"></div>

                    <div class="col w-lg bg-light lter b-l bg-auto">
                        <div class="wrapper">
                            <div class="row">
                                <div class="col-xs-3">
                                    <h4 class="m-t-xs m-b-xs">Users</h4>
                                    <ul class="list-group no-bg no-borders pull-in">
                                        <li class="list-group-item" ng-repeat="user in allUsers" >
                                            <div class="clear">
                                                <div><a href="#/message/{{user.user_id}}"> {{user.first_name}} </a></div>
                                                <small class="text-muted"> {{user.last_name}} </small>
                                            </div>
                                        </li>

                                    </ul>
                                </div>

                                <ng-view></ng-view>

                                <div class="panel b-a col-xs-3">
                                    <h4 class="font-thin padder">Latest Posts</h4>
                                    <ul class="list-group">
                                        <li class="list-group-item" ng-repeat="post in allPosts|limitTo:5" >
                                            <p>{{post.post_text}}</p>
                                            <small class="block text-muted"><i class="fa fa-fw fa-clock-o"></i>  {{post.post_datetime |timeAgo}}</small>
                                        </li>

                                    </ul>
                                </div>
                                <div class="panel b-light clearfix">

                                </div>

                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="credits text-center">
            <p>
               Copyright@2016
            </p>

        </div>
        <script src="js/jquery-2.2.1.min.js"></script>
        <script src="js/angular.min.js"></script>
        <script src="js/angular-route.min.js"></script>
        <script src="js/angular-cookies.min.js"></script>
        <script src="js/moment.js"></script>

        <script src="js/angular-moment.min.js"></script>
        <script src="app.js"></script>
        <script src="app-services/authentication.service.js"></script>
        <script src="app-services/flash.service.js"></script>

        <!-- Real user service that uses an api -->
        <!-- <script src="app-services/user.service.js"></script> -->

        <!-- Fake user service for demo that uses local storage -->
        <script src="app-services/user.service.js"></script>
        <script src="app-services/post.service.js"></script>
        <script src="home/home.controller.js"></script>
           <script src="app-services/message.service.js"></script>
        <script src="message/message.controller.js"></script>
        <script src="login/login.controller.js"></script>
        <script src="register/register.controller.js"></script>
        <script src="post/post.controller.js"></script>
    </body>
</html>